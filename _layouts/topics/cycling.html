---
layout: article
---

<link rel="stylesheet" href="{% asset leaflet.css @path %}">
<script src="{% asset leaflet.js @path %}"></script>

{% if page.gpx %}
  <script src="{% asset leaflet-gpx.js @path %}"></script>
{% endif %}

{{ content }}

<h2>Karte</h2>

<div id="map-embed"></div>

<div class="copyright-notice">
  Basiskarte und Daten von OpenStreetMap und OpenStreetMap Foundation. Veröffentlicht unter <a href="http://opendatacommons.org/licenses/odbl/">ODbL</a>.
</div>

<script>
  const { lat, lon, zoom } = {{ page.geo | jsonify }};
  const markers = {{ page.markers | jsonify }};

  const map = L.map("map-embed").setView([lat, lon], zoom);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);

  for (const { lat, lon } of markers)
    L.circle([lat, lon], { color: 'red', fillColor: '#f03', fillOpacity: 0.5, radius: 300 }).addTo(map);

  const gpx = {{ page.gpx | jsonify }};

  const markerOptions = {
    startIconUrl: undefined,
    endIconUrl: undefined,
    shadowUrl: undefined
  };
  for (const file of gpx)
    new L.GPX(`/topics/cycling/${file}.gpx`, { async: true, marker_options: markerOptions }).addTo(map);
</script>

{% if page.gpx %}
  <h2>Tracks</h2>

  <ul>
    {% for file in page.gpx %}
      <li><a href="/topics/cycling/{{ file }}.gpx">{{ file }}.gpx</a></li>
    {% endfor %}
  </ul>
{% endif %}

<h2>Hinweis</h2>

<div>
  Der hier angegebene Streckenverlauf ist ein persönlicher Erfahrungsbericht.
  Ich übernehme keine Verantwortung für die Eignung oder Beschaffenheit.
  Alle Angaben ohne Gewähr.
</div>
